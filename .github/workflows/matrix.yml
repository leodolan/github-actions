name: Matrix

on: push

jobs:
    node-version:
      strategy:
        matrix: 
          os: [macos-latest, ubuntu-latest, windows-latest]
          node_version: [6,8,10]
          include: 
            - os: ubuntu-latest
              node_version: 8
              is_ubuntu_8: "true"
          exclude: 
            - os: ubuntu-latest
              node-version: 6
            - os: macos-latest
              node-version: 8
        #max-parallel: 0  actions will try and optomize, but if we want to limit can be specified
        fail-fast: true #if any step fail, fail all - if set to false, let them all run 

      runs-on: ${{ matrix.os }}
      env: 
        IS_UBUNTU_8: ${{ matrix.is_ubuntu_8 }}
      steps:
        - name: Log node node-version
          run: node -v
        - uses: actions/setup-node@v1
          with:
            node-version: ${{ matrix.node_version }}
        - name: Log node node-version
          run: |
            node -v
            echo $IS_UBUNTU_8